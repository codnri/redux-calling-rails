(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(t,e,o){t.exports=o(61)},61:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),i=o(20),c=o.n(i),d=o(6),r=o(3),l=o(22),s=o(28),u={todoList:[],isFetching:!1},p=o(23),E=o(24),v=o(29),O=o(25),f=o(30),g=o(5),h=o(26),m=o.n(h),T=o(27),C=o.n(T);function _(){return function(t){return t({type:"FETCH_TODOS"}),C.a.get("http://localhost:3001/todos").then(function(e){var o;t((o=e.data,console.log("receiveTodos"),console.log(o),{type:"FETCH_TODOS_SUCCESS",todos:o}))}).catch(function(t){console.log(t)})}}var S=function(t){function e(t){var o;return Object(p.a)(this,e),(o=Object(v.a)(this,Object(O.a)(e).call(this,t))).clickResetButton=function(t){o.props.resetTodo()},o.clickAddButton=function(t){o.props.addTodo(o.state.todo);var e=Object(g.a)({},o.state.todo);e.content="",o.setState({todo:e})},o.onChangeInput=function(t){var e=Object(g.a)({},o.state.todo);e.content=t.target.value,o.setState({todo:e})},o.onDelClick=function(t){var e=t.target.parentNode.id,n=o.props.todoState.todoList[e].id;o.props.removeTodo(n)},o.onEditClick=function(t){var e=t.target.parentNode.id,n=o.props.todoState.todoList[e];o.setState({editing_todo:n})},o.onEditSaveClick=function(t){var e=o.state.editing_todo;o.props.updateTodo(e),o.setState({editing_todo:{}})},o.onEditCancelClick=function(t){o.setState({editing_todo:{}})},o.onChangeEditInput=function(t){var e=Object(g.a)({},o.state.editing_todo);e.content=t.target.value,o.setState({editing_todo:e})},o.state={todo:{content:"",is_completed:"",id:"",isEditing:!1},editing_todo:{}},o}return Object(f.a)(e,t),Object(E.a)(e,[{key:"componentWillMount",value:function(){this.props.fetchTodos()}},{key:"render",value:function(){var t=this;return console.log(this.props),console.log(this.state),a.a.createElement("div",null,"New Todo",a.a.createElement("div",{id:"form"},a.a.createElement("input",{type:"text",value:this.state.todo.content,onChange:this.onChangeInput}),a.a.createElement("button",{onClick:this.clickAddButton},"Add"),a.a.createElement("button",{onClick:this.clickResetButton},"Reset")),a.a.createElement("div",{id:"todo-list"},a.a.createElement("ul",null,this.props.todoState.todoList.map(function(e,o){return e.id===t.state.editing_todo.id?a.a.createElement("li",null,a.a.createElement("div",null,a.a.createElement("input",{type:"text",value:t.state.editing_todo.content,onChange:t.onChangeEditInput}),a.a.createElement("a",{href:"javascript:void(0);",onClick:t.onEditSaveClick},"Save"),"\xa0|\xa0",a.a.createElement("a",{href:"javascript:void(0);",onClick:t.onEditCancelClick},"Cancel"))):a.a.createElement("li",{key:o,id:o},e.content," \u2003\u2003\u2003\u2003",a.a.createElement("a",{href:"javascript:void(0);",onClick:t.onEditClick},"edit"),"\xa0|\xa0",a.a.createElement("a",{href:"javascript:void(0);",onClick:t.onDelClick},"del"))}))))}}]),e}(a.a.Component),k=Object(d.b)(function(t){return{todoState:t.todo}},function(t){return{addTodo:function(e){return t(function(t){var e=Object(g.a)({},t);return e.id=m()(),{type:"ADD_TODO",todo:e}}(e))},resetTodo:function(){return t({type:"RESET_TODO"})},removeTodo:function(e){return t(function(t){return{type:"REMOVE_TODO",del_id:t}}(e))},updateTodo:function(e){return t(function(t){return{type:"UPDATE_TODO",update_todo:t}}(e))},fetchTodos:_}})(S),b=Object(r.d)(Object(r.c)({todo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_TODOS":return Object.assign({},t,{isFetching:!0});case"FETCH_TODOS_SUCCESS":return Object.assign({},t,{isFetching:!1,todos:e.todos});case"ADD_TODO":return{todoList:[].concat(Object(s.a)(t.todoList),[e.todo])};case"UPDATE_TODO":var o=t.todoList.map(function(t,o){return t.id===e.update_todo.id?e.update_todo:t});return console.log("new_todoList"),console.log(o),{todoList:o};case"RESET_TODO":return{todoList:[]};case"REMOVE_TODO":console.log(t.todoList);var n=t.todoList.filter(function(t){return t.id!==e.del_id});return console.log("new_todoList"),console.log(n),{todoList:n};default:return t}}}),Object(r.a)(l.a));var j=document.getElementById("root");c.a.render(a.a.createElement(function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Welcome to Simple Todo App"),a.a.createElement("h2",null,"What are you going to do?"),a.a.createElement(d.a,{store:b},a.a.createElement(k,null)))},null),j)}},[[31,2,1]]]);
//# sourceMappingURL=main.f543556e.chunk.js.map