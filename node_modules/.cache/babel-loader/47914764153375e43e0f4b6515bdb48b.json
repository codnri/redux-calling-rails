{"ast":null,"code":"import _objectSpread from \"/home/izo/projects/my-rails-api-react-todo/redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { fetchTodos } from './GetRequestActions';\nimport axios from 'axios';\n\nfunction addNewTodo() {\n  return {\n    type: 'ADD_NEW_TODO'\n  };\n}\n\nfunction addNewTodoSuccess() {\n  return {\n    type: 'ADD_TODO_SUCCESS'\n  };\n} // メッセージ送信\n\n\nexport function postTodo(todoBody) {\n  var sendBody = {\n    \"subject\": todoBody.content\n  };\n  return function (dispatch) {\n    dispatch(addNewTodo());\n    return axios.post('http://localhost:3001/todos', {\n      body: _objectSpread({}, sendBody)\n    }, {\n      withCredentials: false\n    }).then(function (response) {\n      dispatch(fetchTodos());\n      dispatch(addNewTodoSuccess());\n    }).catch(function (response) {\n      console.log(response);\n    });\n  };\n}","map":{"version":3,"sources":["/home/izo/projects/my-rails-api-react-todo/redux/src/PostRequestActions.js"],"names":["fetchTodos","axios","addNewTodo","type","addNewTodoSuccess","postTodo","todoBody","sendBody","content","dispatch","post","body","withCredentials","then","response","catch","console","log"],"mappings":";AAAA,SAAQA,UAAR,QAAyB,qBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,UAAT,GAAsB;AAClB,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD;;AACD,SAASC,iBAAT,GAA6B;AAC3B,SAAO;AACLD,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,C,CACD;;;AACA,OAAO,SAASE,QAAT,CAAkBC,QAAlB,EAA4B;AACjC,MAAIC,QAAQ,GAAG;AAAC,eAAUD,QAAQ,CAACE;AAApB,GAAf;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACA,WAAOD,KAAK,CAACS,IAAN,CAAW,6BAAX,EACL;AACEC,MAAAA,IAAI,oBAAMJ,QAAN;AADN,KADK,EAGH;AAACK,MAAAA,eAAe,EAAC;AAAjB,KAHG,EAILC,IAJK,CAIA,UAACC,QAAD,EAAc;AACjBL,MAAAA,QAAQ,CAACT,UAAU,EAAX,CAAR;AACAS,MAAAA,QAAQ,CAACL,iBAAiB,EAAlB,CAAR;AACD,KAPI,EAOFW,KAPE,CAOI,UAACD,QAAD,EAAc;AACrBE,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,KATI,CAAP;AAUD,GAZD;AAaD","sourcesContent":["import {fetchTodos} from './GetRequestActions'\nimport axios from 'axios'\n\nfunction addNewTodo() {\n    return {\n      type: 'ADD_NEW_TODO',\n    };\n  }\n  function addNewTodoSuccess() {\n    return {\n      type: 'ADD_TODO_SUCCESS',\n    };\n  }\n  // メッセージ送信\n  export function postTodo(todoBody) {\n    let sendBody = {\"subject\":todoBody.content}\n    return dispatch => {\n      dispatch(addNewTodo())\n      return axios.post('http://localhost:3001/todos',\n        {\n          body: {...sendBody}\n        },{withCredentials:false}\n      ).then((response) => {\n          dispatch(fetchTodos())\n          dispatch(addNewTodoSuccess())\n        }).catch((response) => {\n          console.log(response)\n        })\n    }\n  }"]},"metadata":{},"sourceType":"module"}