{"ast":null,"code":"import _objectSpread from \"/home/izo/projects/my-rails-api-react-todo/redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nfunction addNewTodo() {\n  return {\n    type: 'ADD_NEW_TODO'\n  };\n}\n\nfunction addNewTodoSuccess() {\n  return {\n    type: 'ADD_TODO_SUCCESS'\n  };\n} // メッセージ送信\n\n\nexport function postTodo(todoBody) {\n  var sendBody = todoBody.map(function (el) {\n    return {\n      id: el.id,\n      content: subject.content\n    };\n  });\n  return function (dispatch) {\n    dispatch(addNewTodo());\n    return axios.post('http://localhost:3001/todos', {\n      body: _objectSpread({}, sendBody)\n    }, {\n      withCredentials: true\n    }).then(function (response) {\n      dispatch(fetchTodos());\n      dispatch(addNewTodoSuccess());\n    }).catch(function (response) {\n      console.log(response);\n    });\n  };\n}","map":{"version":3,"sources":["/home/izo/projects/my-rails-api-react-todo/redux/src/PostRequestActions.js"],"names":["addNewTodo","type","addNewTodoSuccess","postTodo","todoBody","sendBody","map","el","id","content","subject","dispatch","axios","post","body","withCredentials","then","response","fetchTodos","catch","console","log"],"mappings":";;AAAA,SAASA,UAAT,GAAsB;AAClB,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD;;AACD,SAASC,iBAAT,GAA6B;AAC3B,SAAO;AACLD,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,C,CACD;;;AACA,OAAO,SAASE,QAAT,CAAkBC,QAAlB,EAA4B;AACjC,MAAIC,QAAQ,GAAGD,QAAQ,CAACE,GAAT,CAAa,UAACC,EAAD;AAAA,WAAQ;AAACC,MAAAA,EAAE,EAACD,EAAE,CAACC,EAAP;AAAUC,MAAAA,OAAO,EAACC,OAAO,CAACD;AAA1B,KAAR;AAAA,GAAb,CAAf;AACA,SAAO,UAAAE,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACX,UAAU,EAAX,CAAR;AACA,WAAOY,KAAK,CAACC,IAAN,CAAW,6BAAX,EACP;AACEC,MAAAA,IAAI,oBAAMT,QAAN;AADN,KADO,EAGL;AAACU,MAAAA,eAAe,EAAC;AAAjB,KAHK,EAILC,IAJK,CAIA,UAACC,QAAD,EAAc;AACjBN,MAAAA,QAAQ,CAACO,UAAU,EAAX,CAAR;AACAP,MAAAA,QAAQ,CAACT,iBAAiB,EAAlB,CAAR;AACD,KAPI,EAOFiB,KAPE,CAOI,UAACF,QAAD,EAAc;AACrBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACD,KATI,CAAP;AAUD,GAZD;AAaD","sourcesContent":["function addNewTodo() {\n    return {\n      type: 'ADD_NEW_TODO',\n    };\n  }\n  function addNewTodoSuccess() {\n    return {\n      type: 'ADD_TODO_SUCCESS',\n    };\n  }\n  // メッセージ送信\n  export function postTodo(todoBody) {\n    let sendBody = todoBody.map((el)=>( {id:el.id,content:subject.content} ) )\n    return dispatch => {\n      dispatch(addNewTodo())\n      return axios.post('http://localhost:3001/todos',\n      {\n        body: {...sendBody}\n      },{withCredentials:true}\n      ).then((response) => {\n          dispatch(fetchTodos())\n          dispatch(addNewTodoSuccess())\n        }).catch((response) => {\n          console.log(response)\n        })\n    }\n  }"]},"metadata":{},"sourceType":"module"}